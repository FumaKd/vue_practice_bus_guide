(function(){"use strict";var e={300:function(e,t,n){var a=n(3751),l=n(641),o=n(953),u=n(5220);function s(){const e="https://script.google.com/macros/s/AKfycbzUqrWHjTHtx9XPr8uBRiSgVhIYc5rY420FGQHff8qr0OTu1qCrWezUIBMPdXzgilZdCQ/exec?mode=api",t=(0,o.KR)();return fetch(e).then((e=>e.json())).then((e=>t.value=e)),t}function r(){const e=(0,o.KR)(),t=(0,o.KR)(),n=(0,o.KR)(),a=(0,o.KR)(),l=(0,o.KR)(),u=(0,o.KR)(),s=(0,o.KR)(),r=(0,o.KR)();return i(r),{hours:e,minutes:t,seconds:n,years:a,month:l,date:u,day:s,timeData:r};function i(){let o=new Date;e.value=o.getHours(),t.value=o.getMinutes(),n.value=o.getSeconds(),a.value=o.getFullYear(),l.value=o.getMonth()+1,u.value=o.getDate(),s.value=o.getDay(),r.value=o,requestAnimationFrame(i)}}var i={__name:"App",setup(e){const t=s(),{hours:n,minutes:a,seconds:i,years:d,month:c,date:v,day:p}=r();return(0,l.Gt)("busInfo",t),(0,l.Gt)("timeInfo",{hours:n,minutes:a,seconds:i,years:d,month:c,date:v,day:p}),(e,t)=>{const n=(0,l.g2)("v-app");return(0,l.uX)(),(0,l.Wv)(n,null,{default:(0,l.k6)((()=>[(0,l.bF)((0,o.R1)(u.Tp))])),_:1})}}};const d=i;var c=d,v=(n(4114),n(33));const p={class:"font-weight-medium"};var f={__name:"ClockComponent",setup(e){const{hours:t,minutes:n,seconds:a}=(0,l.WQ)("timeInfo"),o=(0,l.EW)((()=>{let e=t.value<10?"0"+String(t.value):String(t.value),l=n.value<10?"0"+String(n.value):String(n.value),o=a.value<10?"0"+String(a.value):String(a.value);return`${e}:${l}:${o}`}));return(e,t)=>((0,l.uX)(),(0,l.CE)("span",p,(0,v.v_)(o.value),1))}};const b=f;var _=b,m={__name:"AllHeader",setup(e){const t=(0,u.rd)().currentRoute.value.name;return(e,n)=>{const a=(0,l.g2)("v-app-bar-title"),u=(0,l.g2)("v-app-bar-nav-icon"),s=(0,l.g2)("v-spacer"),r=(0,l.g2)("v-chip"),i=(0,l.g2)("v-app-bar");return(0,l.uX)(),(0,l.Wv)(i,{color:"blue"},{append:(0,l.k6)((()=>[(0,l.bF)(_)])),prepend:(0,l.k6)((()=>[(0,l.bF)(u)])),extension:(0,l.k6)((()=>[(0,l.bF)(s),(0,l.bF)(r,{disabled:"home"===(0,o.R1)(t),onClick:n[0]||(n[0]=t=>e.$router.push({name:"home"})),class:"ma-1 text-button"},{default:(0,l.k6)((()=>n[3]||(n[3]=[(0,l.eW)(" Home ")]))),_:1},8,["disabled"]),(0,l.bF)(r,{disabled:"tables"===(0,o.R1)(t),onClick:n[1]||(n[1]=t=>e.$router.push({name:"tables"})),class:"ma-1 text-button"},{default:(0,l.k6)((()=>n[4]||(n[4]=[(0,l.eW)(" Tables ")]))),_:1},8,["disabled"]),(0,l.bF)(s)])),default:(0,l.k6)((()=>[(0,l.bF)(a,{class:"text-h5"},{default:(0,l.k6)((()=>n[2]||(n[2]=[(0,l.eW)(" バス情報サイト ")]))),_:1})])),_:1})}}};const g=m;var k=g,h={__name:"SelectDateType",props:["typeOfTable"],emits:["changeDayType"],setup(e,{emit:t}){const n={"平日":"wkd","土曜":"std","休日":"snd"},a=e,u=t,s=(0,o.KR)();for(let l in n)if(n[l]==a.typeOfTable){s.value=l;break}const r=(0,o.KR)(["平日","土曜","休日"]);return(0,l.wB)(s,(()=>{u("changeDayType",n[s.value])})),(e,t)=>{const n=(0,l.g2)("v-select");return(0,l.uX)(),(0,l.Wv)(n,{items:r.value,label:"表示タイプ",modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),class:"w-50"},null,8,["items","modelValue"])}}};const y=h;var F=y,I=n.p+"img/map.d7ff7b9e.png",W=n.p+"img/pin.ce9b38e6.svg";const w={label:"",class:"text-h6 ma-1"},R={class:"ma-1 text-h6"},x={class:"text-h4 font-weight-bold"};var T={__name:"StopInfo",props:["stopInfo"],setup(e){return(t,n)=>{const a=(0,l.g2)("v-card-title"),o=(0,l.g2)("v-card-item"),u=(0,l.g2)("v-card");return(0,l.uX)(),(0,l.Wv)(u,null,{default:(0,l.k6)((()=>[(0,l.bF)(a,{class:"text-h5 font-weight-bold"},{default:(0,l.k6)((()=>[(0,l.eW)((0,v.v_)(e.stopInfo.bus_stop_name),1)])),_:1}),(0,l.bF)(o,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[(0,l.Lk)("div",w,(0,v.v_)(e.stopInfo.nextRoute),1)]),(0,l.Lk)("div",R,[(0,l.Lk)("span",x,(0,v.v_)(e.stopInfo.nextTime),1),n[0]||(n[0]=(0,l.eW)(" 発 "))])])),_:1})])),_:1})}}};const X=T;var C=X;const K=["id","width"];var E={__name:"BusStop",props:["stopInfo","imgWidth"],setup(e){const t=e,n=t.imgWidth/500,a={top:t.stopInfo.latitude*n+"px",left:t.stopInfo.longitude*n+"px"};return(t,o)=>{const u=(0,l.g2)("v-tooltip");return(0,l.uX)(),(0,l.Wv)(u,{location:"top center",origin:"overlap"},{activator:(0,l.k6)((({props:t})=>[(0,l.Lk)("div",(0,l.v6)({id:"pingIcon",style:a},t),[(0,l.Lk)("img",{id:e.stopInfo.bus_stop_id,src:W,alt:"test",width:50*n},null,8,K)],16)])),default:(0,l.k6)((()=>[(0,l.bF)(C,{"stop-info":e.stopInfo},null,8,["stop-info"])])),_:1})}}},L=n(6262);const S=(0,L.A)(E,[["__scopeId","data-v-c4e859f2"]]);var O=S,D={__name:"MapComponent",props:["stopInfo"],setup(e){const t=(0,o.KR)();return(0,l.sV)((()=>{t.value=document.getElementsByTagName("img")[0].offsetWidth})),(n,a)=>{const o=(0,l.g2)("v-sheet");return(0,l.uX)(),(0,l.Wv)(o,{class:"pa-4"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[a[0]||(a[0]=(0,l.Lk)("img",{class:"rounded-lg border-blue border-lg pa-0",src:I,alt:"map"},null,-1)),t.value?((0,l.uX)(!0),(0,l.CE)(l.FK,{key:0},(0,l.pI)(e.stopInfo,(e=>((0,l.uX)(),(0,l.Wv)(O,{key:e.bus_stop_id,"stop-info":e,"img-width":t.value},null,8,["stop-info","img-width"])))),128)):(0,l.Q3)("",!0)])])),_:1})}}};const N=(0,L.A)(D,[["__scopeId","data-v-137a5650"]]);var Q=N;const j={label:"",class:"text-h6 ma-1"},V={class:"ma-1 text-h6"},$={class:"text-h4 font-weight-bold"};var A={__name:"StopList",props:["stopInfo"],setup(e){const t=(0,u.rd)();function n(e){t.push({name:"tablesDetail",params:{timeTableId:e}})}return(t,a)=>{const o=(0,l.g2)("v-card-title"),u=(0,l.g2)("v-card-item"),s=(0,l.g2)("v-btn"),r=(0,l.g2)("v-card-actions"),i=(0,l.g2)("v-card"),d=(0,l.g2)("v-col"),c=(0,l.g2)("v-row"),p=(0,l.g2)("v-container");return(0,l.uX)(),(0,l.Wv)(p,{class:"pa-4"},{default:(0,l.k6)((()=>[(0,l.bF)(c,{class:"d-flex"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.stopInfo,(e=>((0,l.uX)(),(0,l.Wv)(d,{key:e.bus_stop_id,class:"v-col-12"},{default:(0,l.k6)((()=>[(0,l.bF)(i,{color:"blue",elevation:"8",class:""},{default:(0,l.k6)((()=>[(0,l.bF)(o,{class:"ma-1 text-h5 font-weight-bold"},{default:(0,l.k6)((()=>[(0,l.eW)((0,v.v_)(e.bus_stop_name),1)])),_:2},1024),(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[(0,l.Lk)("div",j,(0,v.v_)(e.nextRoute),1)]),(0,l.Lk)("div",V,[(0,l.Lk)("span",$,(0,v.v_)(e.nextTime),1),a[0]||(a[0]=(0,l.eW)(" 発 "))])])),_:2},1024),(0,l.bF)(r,{class:"ma-1"},{default:(0,l.k6)((()=>[(0,l.bF)(s,{variant:"outlined",rounded:"LG",elevation:"2",size:"x-large",onClick:t=>n(e.bus_stop_id)},{default:(0,l.k6)((()=>a[1]||(a[1]=[(0,l.eW)(" 時刻表へ ")]))),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})}}};const B=A;var H=B;function M(e,t){const n=(0,o.KR)();switch(e){case 0:t.value>=0&&t.value<=2?n.value="std":n.value="snd";break;case 1:t.value>=0&&t.value<=2?n.value="snd":n.value="wkd";break;case 6:t.value>=0&&t.value<=2?n.value="wkd":n.value="std";break;default:n.value="wkd"}return n}function z(e,t,n){let a=e[0],l=1/0,[o,u]=[t.value,n.value];for(let s of e){let e,[t,n]=s.departure_time.split(":").map(Number);o>2&&t>=0&&t<=2&&(t+=24),e=60*t+n-(60*o+u),e>0&&e<l&&(l=e,a=s)}return a}function P(e,t,n,a){const u=(0,o.KR)(t["バス停情報"].map((e=>(e.nextTime="Now loading...",e.nextRoute="Now loading...",e.nextRouteTableId=NaN,e)))),s=t["時刻表情報"];let r=q(u,s),i=(0,l.EW)((()=>G(r,e,t)));return U(u,i,s,n,a),(0,l.wB)([e,a],(()=>{U(u,i,s,n,a)})),{stopInfo:u}}function q(e,t){let n=[];for(let a of e.value)n.push({stop_id:a.bus_stop_id,table_id:[]});for(let a of t)n.forEach((e=>{e.stop_id===a.bus_stop_id&&e.table_id.push(a.time_table_id)}));return n}function G(e,t,n){let a=[];for(let l of e)a.push({stop_id:l.stop_id,time_table:n["発車時刻情報"].filter((e=>e.weekday===t.value)).filter((e=>l.table_id.includes(e.time_table_id)))});return a}function U(e,t,n,a,l){for(let o of t.value)e.value.forEach((e=>{if(e.bus_stop_id===o.stop_id){let t=z(o.time_table,a,l),u=n.find((e=>e.time_table_id==t.time_table_id));e.nextTime=t.departure_time,e.nextRoute=`${u.route_name}系統${u.destination}`,e.nextRouteTableId=t.time_table_id}}))}var Y={__name:"StopMap",props:["busInfo"],setup(e){const t=e,{hours:n,minutes:a,day:u}=(0,l.WQ)("timeInfo"),s=M(u.value,n.value),{stopInfo:r}=P(s,t.busInfo,n,a);return(e,t)=>{const n=(0,l.g2)("v-container"),a=(0,l.g2)("v-col"),u=(0,l.g2)("v-row");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(n,null,{default:(0,l.k6)((()=>[(0,l.bF)(F,{"type-of-table":(0,o.R1)(s),onChangeDayType:t[0]||(t[0]=e=>s.value=e)},null,8,["type-of-table"])])),_:1}),(0,l.bF)(n,{class:"pa-0"},{default:(0,l.k6)((()=>[(0,l.bF)(u,{class:"w-100"},{default:(0,l.k6)((()=>[(0,l.bF)(a,{class:"v-col-6"},{default:(0,l.k6)((()=>[(0,l.bF)(Q,{"stop-info":(0,o.R1)(r)},null,8,["stop-info"])])),_:1}),(0,l.bF)(a,{class:""},{default:(0,l.k6)((()=>[(0,l.bF)(H,{"stop-info":(0,o.R1)(r)},null,8,["stop-info"])])),_:1})])),_:1})])),_:1})],64)}}};const Z=Y;var J=Z;function ee(e,t){const n=(0,l.g2)("v-container");return(0,l.uX)(),(0,l.Wv)(n,{loading:""},{default:(0,l.k6)((()=>t[0]||(t[0]=[(0,l.eW)(" Now Loading... ")]))),_:1})}const te={},ne=(0,L.A)(te,[["render",ee]]);var ae=ne,le={__name:"HomeView",setup(e){const t=(0,l.WQ)("busInfo");return(e,n)=>{const a=(0,l.g2)("v-main");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(k),(0,l.bF)(a,null,{default:(0,l.k6)((()=>[(0,o.R1)(t)?((0,l.uX)(),(0,l.Wv)(J,{key:0,"bus-info":(0,o.R1)(t)},null,8,["bus-info"])):((0,l.uX)(),(0,l.Wv)(ae,{key:1}))])),_:1})],64)}}};const oe=le;var ue=oe;const se=["href"];var re={__name:"RouteInfo",props:["busRouteInfo"],setup(e){return(t,n)=>{const a=(0,l.g2)("v-card-title"),o=(0,l.g2)("v-card-actions"),u=(0,l.g2)("v-card"),s=(0,l.g2)("v-container");return(0,l.uX)(),(0,l.Wv)(s,null,{default:(0,l.k6)((()=>[(0,l.bF)(u,{color:"blue"},{default:(0,l.k6)((()=>[(0,l.bF)(a,{class:"text-h5 font-weight-bold"},{default:(0,l.k6)((()=>[(0,l.eW)((0,v.v_)(e.busRouteInfo.route_name)+"系統 "+(0,v.v_)(e.busRouteInfo.destination),1)])),_:1}),(0,l.bF)(o,null,{default:(0,l.k6)((()=>[(0,l.Lk)("a",{target:"_blank",href:e.busRouteInfo.url,class:"text-white pa-2",title:"公式サイトへ"},"公式情報へ",8,se)])),_:1})])),_:1})])),_:1})}}};const ie=re;var de=ie,ce={__name:"TimeTable",props:["busInfo","timeTableId"],setup(e){const t=e,{day:n,hours:a,minutes:u}=(0,l.WQ)("timeInfo"),s=M(n.value,a.value),r=(0,l.EW)((()=>t.busInfo["発車時刻情報"].filter((e=>e.time_table_id===Number(t.timeTableId)&&e.weekday===s.value)))),i=(0,o.KR)(z(r.value,a,u));return(0,l.wB)([r,u],(()=>{i.value=z(r.value,a,u)})),(0,l.sV)((()=>{const e=document.getElementById(i.value.departure_schedule_id);e.scrollIntoView({behavior:"smooth",block:"start",inline:"start"})})),(e,t)=>{const n=(0,l.g2)("v-container"),a=(0,l.g2)("v-chip"),u=(0,l.g2)("v-divider"),d=(0,l.g2)("v-list-item"),c=(0,l.g2)("v-list");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(n,null,{default:(0,l.k6)((()=>[(0,l.bF)(F,{"type-of-table":(0,o.R1)(s),onChangeDayType:t[0]||(t[0]=e=>s.value=e)},null,8,["type-of-table"])])),_:1}),(0,l.bF)(n,null,{default:(0,l.k6)((()=>[(0,l.bF)(c,null,{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.value,(e=>((0,l.uX)(),(0,l.Wv)(d,{key:e.departure_schedule_id,id:e.departure_schedule_id,title:e.departure_time},{default:(0,l.k6)((()=>[i.value===e?((0,l.uX)(),(0,l.Wv)(a,{key:0,color:"blue",variant:"flat"},{default:(0,l.k6)((()=>t[1]||(t[1]=[(0,l.eW)("NEXT")]))),_:1})):(0,l.Q3)("",!0),(0,l.bF)(u)])),_:2},1032,["id","title"])))),128))])),_:1})])),_:1})],64)}}};const ve=ce;var pe=ve,fe={__name:"TableView",props:["timeTableId"],setup(e){const t=e,n=(0,l.WQ)("busInfo"),a=(0,l.EW)((()=>n.value?n.value["時刻表情報"].filter((e=>e.time_table_id===Number(t.timeTableId)))[0]:""));return(t,u)=>{const s=(0,l.g2)("v-main");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(k),(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,o.R1)(n)?((0,l.uX)(),(0,l.Wv)(de,{key:0,"bus-route-info":a.value},null,8,["bus-route-info"])):(0,l.Q3)("",!0),(0,o.R1)(n)?((0,l.uX)(),(0,l.Wv)(pe,{key:1,"bus-info":(0,o.R1)(n),"time-table-id":e.timeTableId},null,8,["bus-info","time-table-id"])):((0,l.uX)(),(0,l.Wv)(ae,{key:2}))])),_:1})],64)}}};const be=fe;var _e=be,me={__name:"TableList",props:["busInfo"],setup(e){const t=e,n=(0,l.EW)((()=>t.busInfo["時刻表情報"])),a=(0,l.EW)((()=>t.busInfo["バス停情報"]));return(e,t)=>{const o=(0,l.g2)("v-chip"),u=(0,l.g2)("v-card-title"),s=(0,l.g2)("v-card-subtitle"),r=(0,l.g2)("v-card-text"),i=(0,l.g2)("v-btn"),d=(0,l.g2)("v-card-actions"),c=(0,l.g2)("v-card"),p=(0,l.g2)("v-container");return(0,l.uX)(),(0,l.Wv)(p,null,{default:(0,l.k6)((()=>[(0,l.bF)(o,{size:"x-large",color:"blue",label:"",class:"ma-2"},{default:(0,l.k6)((()=>t[0]||(t[0]=[(0,l.eW)(" 時刻表一覧 ")]))),_:1}),(0,l.Lk)("div",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.value,(n=>((0,l.uX)(),(0,l.Wv)(c,{key:n.time_table_id,class:"ma-2",color:"blue",elevation:"8"},{default:(0,l.k6)((()=>[(0,l.bF)(u,{class:"text-h5 font-weight-bold"},{default:(0,l.k6)((()=>[(0,l.eW)((0,v.v_)(n.route_name)+"系統 "+(0,v.v_)(n.destination),1)])),_:2},1024),(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.eW)(" @ "+(0,v.v_)(a.value.filter((e=>e.bus_stop_id===n.bus_stop_id))[0].bus_stop_name),1)])),_:2},1024),(0,l.bF)(r),(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.bF)(i,{variant:"outlined",size:"x-large",onClick:t=>e.$router.push({name:"tablesDetail",params:{timeTableId:n.time_table_id}})},{default:(0,l.k6)((()=>t[1]||(t[1]=[(0,l.eW)(" 時刻表へ ")]))),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])])),_:1})}}};const ge=me;var ke=ge,he={__name:"TableListView",setup(e){const t=(0,l.WQ)("busInfo");return(e,n)=>{const a=(0,l.g2)("v-main");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(k),(0,l.bF)(a,null,{default:(0,l.k6)((()=>[(0,o.R1)(t)?((0,l.uX)(),(0,l.Wv)(ke,{key:0,"bus-info":(0,o.R1)(t)},null,8,["bus-info"])):((0,l.uX)(),(0,l.Wv)(ae,{key:1}))])),_:1})],64)}}};const ye=he;var Fe=ye;const Ie=[{path:"/",name:"home",component:ue,props:!0},{path:"/tables",name:"tables",component:Fe},{path:"/tables/:timeTableId",name:"tablesDetail",component:_e,props:!0}],We=(0,u.aE)({history:(0,u.LA)(""),routes:Ie});var we=We,Re=(n(5524),n(4825)),xe=n(4300),Te=n(6668);const Xe=(0,Re.$N)({components:xe,directives:Te});(0,a.Ef)(c).use(we).use(Xe).mount("#app")}},t={};function n(a){var l=t[a];if(void 0!==l)return l.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,a,l,o){if(!a){var u=1/0;for(d=0;d<e.length;d++){a=e[d][0],l=e[d][1],o=e[d][2];for(var s=!0,r=0;r<a.length;r++)(!1&o||u>=o)&&Object.keys(n.O).every((function(e){return n.O[e](a[r])}))?a.splice(r--,1):(s=!1,o<u&&(u=o));if(s){e.splice(d--,1);var i=l();void 0!==i&&(t=i)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,l,o]}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p=""}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var l,o,u=a[0],s=a[1],r=a[2],i=0;if(u.some((function(t){return 0!==e[t]}))){for(l in s)n.o(s,l)&&(n.m[l]=s[l]);if(r)var d=r(n)}for(t&&t(a);i<u.length;i++)o=u[i],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},a=self["webpackChunkbus_guide_app"]=self["webpackChunkbus_guide_app"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(300)}));a=n.O(a)})();
//# sourceMappingURL=app.8087e021.js.map